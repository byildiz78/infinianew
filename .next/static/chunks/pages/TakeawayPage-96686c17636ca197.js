(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{5254:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/TakeawayPage",function(){return n(2543)}])},2543:function(e,t,n){"use strict";n.r(t);var o=n(5893),s=n(7294),c=n(9332),i=n(5829),u=n(7335),r=n(9821),a=n(7814),l=n(4254),d=n(1595),p=n(3735),m=n(8902);t.default=()=>{let e=(0,c.useRouter)(),[t,n]=(0,s.useState)(1),[f,h]=(0,s.useState)(i.b[0]),[C,x]=(0,s.useState)([]),[P,g]=(0,s.useState)(null),[O,y]=(0,s.useState)(!1),[S,k]=(0,s.useState)(!1),[I,N]=(0,s.useState)(!1),[_,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)(""),[D,q]=(0,s.useState)(!1),[Z,v]=(0,s.useState)(null),E=i.b.filter(e=>e.page===t),T=e=>{if(e.isCombo&&e.comboOptions){v(e),q(!0);return}x(t=>t.find(t=>t.productId===e.id)?t.map(t=>t.productId===e.id?{...t,quantity:t.quantity+1}:t):[...t,{productId:e.id,name:e.name,price:e.price,quantity:1}]),g(e.id)};return(0,o.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-900/70",children:[(0,o.jsx)(u.Z,{title:"Paket SipariÅŸ"}),(0,o.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,o.jsx)(l.Z,{currentPage:t,currentCategories:E,selectedCategory:f,onPageChange:n,onCategorySelect:h,onCancel:()=>e.push("/")}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,o.jsx)(r.Z,{products:f.products,selectedProduct:P,orderItems:C,onProductSelect:T}),(0,o.jsx)(d.Z,{onCheckDiscount:()=>k(!0),onProductDiscount:()=>N(!0),onCustomerName:()=>b(!0),onOtherOptions:()=>y(!0),showTableActions:!1})]}),(0,o.jsx)(a.Z,{orderItems:C,onIncrement:e=>{let t=f.products.find(t=>t.id===e);t&&T(t)},onDecrement:e=>{x(t=>{let n=t.find(t=>t.productId===e);return n&&n.quantity>1?t.map(t=>t.productId===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.productId!==e)})},onPayment:t=>{console.log("Processing ".concat(t," payment")),e.push("/")}}),(0,o.jsx)(p.Z,{isOtherOptionsOpen:O,isCheckDiscountOpen:S,isProductDiscountOpen:I,isCustomerNameOpen:_,onOtherOptionsClose:()=>y(!1),onCheckDiscountClose:()=>k(!1),onProductDiscountClose:()=>N(!1),onCustomerNameClose:()=>b(!1),onCheckDiscount:e=>{console.log("Applying check discount:",e)},onProductDiscount:e=>{console.log("Applying product discount:",e)},onCustomerName:e=>{w(e)}}),Z&&(0,o.jsx)(m.Z,{isOpen:D,onClose:()=>{q(!1),v(null)},comboOptions:Z.comboOptions,onComplete:e=>{if(!Z)return;let t=(e.mainItem.extraPrice||0)+(e.side.extraPrice||0)+(e.drink.extraPrice||0),n="".concat(Z.name," (").concat(e.mainItem.name,")");x(o=>[...o,{productId:Z.id,name:n,price:Z.price+t,quantity:1,comboSelections:e}]),v(null),q(!1)}})]})]})}}},function(e){e.O(0,[722,245,888,774,179],function(){return e(e.s=5254)}),_N_E=e.O()}]);