(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{4327:function(e,t,n){Promise.resolve().then(n.bind(n,9085))},9085:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n(3827),s=n(4090),c=n(7907),u=n(9418),r=n(5518),i=n(9684),a=n(1690),l=n(3258),d=n(3151),p=n(4108),m=n(3955),f=e=>{let{tableId:t}=e,n=(0,c.useRouter)(),[f,h]=(0,s.useState)(1),[C,x]=(0,s.useState)(u.b[0]),[b,y]=(0,s.useState)([]),[O,g]=(0,s.useState)(null),[I,P]=(0,s.useState)(!1),[S,j]=(0,s.useState)(!1),[k,N]=(0,s.useState)(!1),[D,q]=(0,s.useState)(!1),[v,Z]=(0,s.useState)(""),[_,w]=(0,s.useState)(!1),[A,E]=(0,s.useState)(null),R=u.b.filter(e=>e.page===f),T=e=>{if(e.isCombo&&e.comboOptions){E(e),w(!0);return}y(t=>t.find(t=>t.productId===e.id)?t.map(t=>t.productId===e.id?{...t,quantity:t.quantity+1}:t):[...t,{productId:e.id,name:e.name,price:e.price,quantity:1}]),g(e.id)};return(0,o.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-900/70",children:[(0,o.jsx)(r.Z,{tableId:t||""}),(0,o.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,o.jsx)(l.Z,{currentPage:f,currentCategories:R,selectedCategory:C,onPageChange:h,onCategorySelect:x,onCancel:()=>n.push("/table-layout")}),(0,o.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,o.jsx)(i.Z,{products:C.products,selectedProduct:O,orderItems:b,onProductSelect:T}),(0,o.jsx)(d.Z,{onCheckDiscount:()=>j(!0),onProductDiscount:()=>N(!0),onCustomerName:()=>q(!0),onOtherOptions:()=>P(!0),showTableActions:!0})]}),(0,o.jsx)(a.Z,{orderItems:b,onIncrement:e=>{let t=C.products.find(t=>t.id===e);t&&T(t)},onDecrement:e=>{y(t=>{let n=t.find(t=>t.productId===e);return n&&n.quantity>1?t.map(t=>t.productId===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.productId!==e)})},onPayment:e=>{console.log("Processing ".concat(e," payment")),n.push("/table-layout")}}),(0,o.jsx)(p.Z,{isOtherOptionsOpen:I,isCheckDiscountOpen:S,isProductDiscountOpen:k,isCustomerNameOpen:D,onOtherOptionsClose:()=>P(!1),onCheckDiscountClose:()=>j(!1),onProductDiscountClose:()=>N(!1),onCustomerNameClose:()=>q(!1),onCheckDiscount:e=>{console.log("Applying check discount:",e)},onProductDiscount:e=>{console.log("Applying product discount:",e)},onCustomerName:e=>{Z(e)}}),A&&(0,o.jsx)(m.Z,{isOpen:_,onClose:()=>{w(!1),E(null)},comboOptions:A.comboOptions,onComplete:e=>{if(!A)return;let t=(e.mainItem.extraPrice||0)+(e.side.extraPrice||0)+(e.drink.extraPrice||0),n="".concat(A.name," (").concat(e.mainItem.name,")");y(o=>[...o,{productId:A.id,name:n,price:A.price+t,quantity:1,comboSelections:e}]),E(null),w(!1)}})]})]})};function h(e){let{params:t}=e;return(0,o.jsx)(f,{tableId:t.tableId})}}},function(e){e.O(0,[303,10,971,69,744],function(){return e(e.s=4327)}),_N_E=e.O()}]);