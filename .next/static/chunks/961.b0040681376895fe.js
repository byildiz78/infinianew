"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{2961:function(e,t,o){o.r(t);var n=o(3827),s=o(4090),c=o(7907),i=o(9418),r=o(5518),u=o(9684),a=o(1690),l=o(3258),d=o(3151),p=o(4108),m=o(3955);t.default=()=>{let e=(0,c.useRouter)(),[t,o]=(0,s.useState)(1),[C,h]=(0,s.useState)(i.b[0]),[f,x]=(0,s.useState)([]),[g,S]=(0,s.useState)(null),[y,O]=(0,s.useState)(!1),[P,I]=(0,s.useState)(!1),[b,k]=(0,s.useState)(!1),[j,D]=(0,s.useState)(!1),[N,q]=(0,s.useState)(""),[Z,v]=(0,s.useState)(!1),[w,_]=(0,s.useState)(null),A=i.b.filter(e=>e.page===t),E=e=>{if(e.isCombo&&e.comboOptions){_(e),v(!0);return}x(t=>t.find(t=>t.productId===e.id)?t.map(t=>t.productId===e.id?{...t,quantity:t.quantity+1}:t):[...t,{productId:e.id,name:e.name,price:e.price,quantity:1}]),S(e.id)};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-900/70",children:[(0,n.jsx)(r.Z,{title:"Paket SipariÅŸ"}),(0,n.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,n.jsx)(l.Z,{currentPage:t,currentCategories:A,selectedCategory:C,onPageChange:o,onCategorySelect:h,onCancel:()=>e.push("/")}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,n.jsx)(u.Z,{products:C.products,selectedProduct:g,orderItems:f,onProductSelect:E}),(0,n.jsx)(d.Z,{onCheckDiscount:()=>I(!0),onProductDiscount:()=>k(!0),onCustomerName:()=>D(!0),onOtherOptions:()=>O(!0),showTableActions:!1})]}),(0,n.jsx)(a.Z,{orderItems:f,onIncrement:e=>{let t=C.products.find(t=>t.id===e);t&&E(t)},onDecrement:e=>{x(t=>{let o=t.find(t=>t.productId===e);return o&&o.quantity>1?t.map(t=>t.productId===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.productId!==e)})},onPayment:t=>{console.log("Processing ".concat(t," payment")),e.push("/")}}),(0,n.jsx)(p.Z,{isOtherOptionsOpen:y,isCheckDiscountOpen:P,isProductDiscountOpen:b,isCustomerNameOpen:j,onOtherOptionsClose:()=>O(!1),onCheckDiscountClose:()=>I(!1),onProductDiscountClose:()=>k(!1),onCustomerNameClose:()=>D(!1),onCheckDiscount:e=>{console.log("Applying check discount:",e)},onProductDiscount:e=>{console.log("Applying product discount:",e)},onCustomerName:e=>{q(e)}}),w&&(0,n.jsx)(m.Z,{isOpen:Z,onClose:()=>{v(!1),_(null)},comboOptions:w.comboOptions,onComplete:e=>{if(!w)return;let t=(e.mainItem.extraPrice||0)+(e.side.extraPrice||0)+(e.drink.extraPrice||0),o="".concat(w.name," (").concat(e.mainItem.name,")");x(n=>[...n,{productId:w.id,name:o,price:w.price+t,quantity:1,comboSelections:e}]),_(null),v(!1)}})]})]})}}}]);